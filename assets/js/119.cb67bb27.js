(window.webpackJsonp=window.webpackJsonp||[]).push([[119],{479:function(v,_,a){"use strict";a.r(_);var t=a(20),s=Object(t.a)({},(function(){var v=this,_=v.$createElement,a=v._self._c||_;return a("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[v._v("#")]),v._v(" 前言")]),v._v(" "),a("p",[v._v("网络编程是Java最擅长的方向之一，使用Java进行网络编程时，由虚拟机实现了底层复杂的网络协议，Java程序只需要调用Java标准库提供的接口，就可以简单高效地编写网络程序。并且Java实现了一个跨平台的网络库，程序员面对的是一个统一的网络编程环境。")]),v._v(" "),a("p",[v._v("本章我们详细介绍如何使用Java进行网络编程。")]),v._v(" "),a("h2",{attrs:{id:"网络基础"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网络基础"}},[v._v("#")]),v._v(" 网络基础")]),v._v(" "),a("p",[v._v("在学习Java网络编程之前，我们先来了解什么是计算机网络。(本篇只做简单地概述)")]),v._v(" "),a("p",[a("strong",[v._v("计算机网络：")])]),v._v(" "),a("p",[v._v("把分布在不同地理区域的计算机与专门的外部设备用通信线路互连成一个规模大、功能强的网络系统，从而使众多的计算机可以方便地互相传递信息、共享硬件、软件、数据信息等资源。")]),v._v(" "),a("p",[v._v("那什么是互联网呢？互联网是网络的网络（internet），即把很多计算机网络连接起来，形成一个全球统一的互联网。")]),v._v(" "),a("p",[a("strong",[v._v("网络编程的目的：")])]),v._v(" "),a("p",[v._v("直接或间接地通过网络协议与其它计算机实现数据交换，进行通讯。")]),v._v(" "),a("p",[a("strong",[v._v("网络编程中有两个主要的问题：")])]),v._v(" "),a("ul",[a("li",[v._v("如何准确地定位网络上一台或多台主机；定位主机上的特定的应用。")]),v._v(" "),a("li",[v._v("找到主机后如何可靠高效地进行数据传输。")])]),v._v(" "),a("p",[a("strong",[v._v("网络通信要素概述")])]),v._v(" "),a("ul",[a("li",[v._v("IP和端口号")]),v._v(" "),a("li",[v._v("网络通信协议")])]),v._v(" "),a("p",[a("strong",[v._v("如何实现网络中的主机互相通信？")])]),v._v(" "),a("ul",[a("li",[v._v("通信双方地址\n"),a("ul",[a("li",[v._v("IP")]),v._v(" "),a("li",[v._v("端口号")])])]),v._v(" "),a("li",[v._v("一定的规则（即：网络通信协议。有两套参考模型）\n"),a("ul",[a("li",[v._v("OSI参考模型：模型过于理想化，未能在因特网上进行广泛推广")]),v._v(" "),a("li",[v._v("TCP/IP参考模型(或TCP/IP协议)：事实上的国际标准。")])])])]),v._v(" "),a("h2",{attrs:{id:"网络协议"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网络协议"}},[v._v("#")]),v._v(" 网络协议")]),v._v(" "),a("p",[v._v("计算机网络是指两台或更多的计算机组成的网络，在同一个网络中，任意两台计算机都可以直接通信，因为所有计算机都需要遵循同一种网络协议。")]),v._v(" "),a("p",[v._v("对某个特定的计算机网络来说，它可能使用网络协议ABC，而另一个计算机网络可能使用网络协议XYZ。如果计算机网络各自的通讯协议不统一，就没法把不同的网络连接起来形成互联网。因此，为了把计算机网络接入互联网，就必须使用TCP/IP协议。")]),v._v(" "),a("p",[v._v("TCP/IP协议泛指互联网协议，其中最重要的两个协议是TCP协议和IP协议。只有使用TCP/IP协议的计算机才能够联入互联网，使用其他网络协议（例如NetBIOS、AppleTalk协议等）是无法联入互联网的。")]),v._v(" "),a("p",[v._v("那么所谓网络通信协议是指"),a("strong",[v._v("对速率、传输代码、代码结构、传输控制步骤、出错控制等制定标准。")])]),v._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/SaulJWu/images/main/20210110122900.png",alt:"image-20210110122900117"}})]),v._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/SaulJWu/images/main/20210110122921.png",alt:"image-20210110122921417"}})]),v._v(" "),a("blockquote",[a("p",[a("strong",[v._v("常用协议：")])])]),v._v(" "),a("ul",[a("li",[a("p",[v._v("IP协议是一个分组交换，它不保证可靠传输。而TCP协议是传输控制协议，它是面向连接的协议，支持可靠传输和双向通信。TCP协议是建立在IP协议之上的，简单地说，IP协议只负责发数据包，不保证顺序和正确性，而TCP协议负责控制数据包传输，它在传输数据之前需要先建立连接，建立连接后才能传输数据，传输完后还需要断开连接。"),a("strong",[v._v("TCP协议之所以能保证数据的可靠传输，是通过接收确认、超时重传这些机制实现的。并且，TCP协议允许双向通信，即通信双方可以同时发送和接收数据。")])])]),v._v(" "),a("li",[a("p",[v._v("TCP协议也是应用最广泛的协议，许多高级协议都是建立在TCP协议之上的，例如HTTP、SMTP等。")])]),v._v(" "),a("li",[a("p",[v._v("UDP协议（User Datagram Protocol）是一种数据报文协议，它是无连接协议，不保证可靠传输。因为UDP协议在通信前不需要建立连接，因此它的传输效率比TCP高，而且UDP协议比TCP协议要简单得多。")])]),v._v(" "),a("li",[a("p",[v._v("选择UDP协议时，传输的数据通常是能容忍丢失的，例如，一些语音视频通信的应用会选择UDP协议。")])])]),v._v(" "),a("h3",{attrs:{id:"tcp-ip协议簇"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp-ip协议簇"}},[v._v("#")]),v._v(" TCP/IP协议簇")]),v._v(" "),a("p",[v._v("传输层协议中有两个非常重要的协议：")]),v._v(" "),a("ul",[a("li",[v._v("传输控制协议TCP(Transmission Control Protocol)。")]),v._v(" "),a("li",[v._v("用户数据报协议UDP(User Datagram Protocol)。")])]),v._v(" "),a("p",[v._v("TCP/IP 以其两个主要协议：传输控制协议(TCP)和网络互联协议(IP)而得名，实际上是一组协议，包括多个具有不同功能且互为关联的协议。")]),v._v(" "),a("p",[v._v("IP(Internet Protocol)协议是网络层的主要协议，支持网间互连的数据通信。")]),v._v(" "),a("p",[v._v("TCP/IP协议模型从更实用的角度出发，形成了高效的四层体系结构，即物理链路层、IP层、传输层和应用层。")]),v._v(" "),a("h2",{attrs:{id:"ip地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ip地址"}},[v._v("#")]),v._v(" IP地址")]),v._v(" "),a("p",[v._v("在互联网中，一个IP地址用于"),a("strong",[v._v("唯一标识")]),v._v("一个网络接口（Network Interface）。一台联入互联网的计算机肯定有一个IP地址，但也可能有多个IP地址。")]),v._v(" "),a("p",[v._v("IP地址分为IPv4和IPv6两种。")]),v._v(" "),a("ul",[a("li",[v._v("IPv4采用32位地址，类似"),a("code",[v._v("101.202.99.12")]),v._v("，")]),v._v(" "),a("li",[v._v("而IPv6采128位地址，类似"),a("code",[v._v("2001:0DA8:100A:0000:0000:1020:F2F3:1428")]),v._v("。")])]),v._v(" "),a("p",[v._v("IPv4地址总共有232个（大约42亿），而IPv6地址则总共有2128个（大约340万亿亿亿亿），IPv4的地址目前已耗尽，而IPv6的地址是根本用不完的。")]),v._v(" "),a("p",[v._v("IP地址又分为公网IP地址和内网IP地址。公网IP地址可以直接被访问，内网IP地址只能在内网访问。内网IP地址类似于：")]),v._v(" "),a("ul",[a("li",[v._v("192.168.x.x")]),v._v(" "),a("li",[v._v("10.x.x.x")])]),v._v(" "),a("p",[v._v("有一个特殊的IP地址，称之为本机地址，它总是"),a("code",[v._v("127.0.0.1")]),v._v("。")]),v._v(" "),a("p",[v._v("IPv4地址实际上是一个32位整数。例如：")]),v._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[v._v("106717964 = 0x65ca630c\n          = 65  ca  63 0c\n          = 101.202.99.12\n")])]),v._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[v._v("1")]),a("br"),a("span",{staticClass:"line-number"},[v._v("2")]),a("br"),a("span",{staticClass:"line-number"},[v._v("3")]),a("br")])]),a("p",[v._v("如果一台计算机只有一个网卡，并且接入了网络，那么，它有一个本机地址"),a("code",[v._v("127.0.0.1")]),v._v("，还有一个IP地址，例如"),a("code",[v._v("101.202.99.12")]),v._v("，可以通过这个IP地址接入网络。")]),v._v(" "),a("p",[v._v("如果一台计算机有两块网卡，那么除了本机地址，它可以有两个IP地址，可以分别接入两个网络。通常连接两个网络的设备是路由器或者交换机，它至少有两个IP地址，分别接入不同的网络，让网络之间连接起来。")]),v._v(" "),a("p",[v._v("如果两台计算机位于同一个网络，那么他们之间可以直接通信，因为他们的IP地址前段是相同的，也就是网络号是相同的。")]),v._v(" "),a("p",[v._v("网络号是IP地址通过子网掩码过滤后得到的。例如：")]),v._v(" "),a("p",[v._v("某台计算机的IP是"),a("code",[v._v("101.202.99.2")]),v._v("，子网掩码是"),a("code",[v._v("255.255.255.0")]),v._v("，那么计算该计算机的网络号是：")]),v._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[v._v("IP = 101.202.99.2\nMask = 255.255.255.0\nNetwork = IP & Mask = 101.202.99.0\n")])]),v._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[v._v("1")]),a("br"),a("span",{staticClass:"line-number"},[v._v("2")]),a("br"),a("span",{staticClass:"line-number"},[v._v("3")]),a("br")])]),a("p",[v._v("每台计算机都需要正确配置IP地址和子网掩码，根据这两个就可以计算网络号，如果两台计算机计算出的网络号相同，说明两台计算机在同一个网络，可以直接通信。如果两台计算机计算出的网络号不同，那么两台计算机不在同一个网络，不能直接通信，它们之间必须通过路由器或者交换机这样的网络设备间接通信，我们把这种设备称为网关。")]),v._v(" "),a("p",[v._v("网关的作用就是连接多个网络，负责把来自一个网络的数据包发到另一个网络，这个过程叫路由。")]),v._v(" "),a("p",[v._v("所以，一台计算机的一个网卡会有3个关键配置：")]),v._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/SaulJWu/images/main/20210107215956.png",alt:"network"}})]),v._v(" "),a("ul",[a("li",[v._v("IP地址，例如："),a("code",[v._v("10.0.2.15")])]),v._v(" "),a("li",[v._v("子网掩码，例如："),a("code",[v._v("255.255.255.0")])]),v._v(" "),a("li",[v._v("网关的IP地址，例如："),a("code",[v._v("10.0.2.2")])])]),v._v(" "),a("h2",{attrs:{id:"端口号"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#端口号"}},[v._v("#")]),v._v(" 端口号")]),v._v(" "),a("p",[v._v("端口号标识正在计算机上运行的进程（程序）。")]),v._v(" "),a("ul",[a("li",[v._v("不同的进程有不同的端口号")]),v._v(" "),a("li",[v._v("被规定为一个16 位的整数0~65535。")])]),v._v(" "),a("p",[a("strong",[v._v("端口号的分类：")])]),v._v(" "),a("ul",[a("li",[v._v("公认端口：0~1023。被预先定义的服务通信占用（如：HTTP占用端口80，FTP占用端口21，Telnet占用端口23）")]),v._v(" "),a("li",[v._v("注册端口：1024~49151。分配给用户进程或应用程序。（如：Tomcat占用端口8080，MySQL占用端口3306，Oracle占用端口1521等）。")]),v._v(" "),a("li",[v._v("动态/私有端口：49152~65535。")])]),v._v(" "),a("p",[a("strong",[v._v("端口号与IP地址的组合得出一个网络套接字：Socket。")])]),v._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/SaulJWu/images/main/20210107221409.png",alt:"image-20210107221409694"}})]),v._v(" "),a("h2",{attrs:{id:"域名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#域名"}},[v._v("#")]),v._v(" 域名")]),v._v(" "),a("p",[v._v("因为直接记忆IP地址非常困难，所以我们通常使用域名访问某个特定的服务。域名解析服务器DNS负责把域名翻译成对应的IP，客户端再根据IP地址访问服务器。")]),v._v(" "),a("p",[v._v("用"),a("code",[v._v("nslookup")]),v._v("可以查看域名对应的IP地址：")]),v._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[v._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[v._v("nslookup")]),v._v(" www.google.com\nServer:  xxx.xxx.xxx.xxx\nAddress: xxx.xxx.xxx.xxx"),a("span",{pre:!0,attrs:{class:"token comment"}},[v._v("#53")]),v._v("\n\nNon-authoritative answer:\nName:    www.google.com\nAddress: "),a("span",{pre:!0,attrs:{class:"token number"}},[v._v("17.18")]),v._v(".13.123\n")])]),v._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[v._v("1")]),a("br"),a("span",{staticClass:"line-number"},[v._v("2")]),a("br"),a("span",{staticClass:"line-number"},[v._v("3")]),a("br"),a("span",{staticClass:"line-number"},[v._v("4")]),a("br"),a("span",{staticClass:"line-number"},[v._v("5")]),a("br"),a("span",{staticClass:"line-number"},[v._v("6")]),a("br"),a("span",{staticClass:"line-number"},[v._v("7")]),a("br")])]),a("p",[v._v("有一个特殊的本机域名"),a("code",[v._v("localhost")]),v._v("，它对应的IP地址总是本机地址"),a("code",[v._v("127.0.0.1")]),v._v("。")]),v._v(" "),a("p",[v._v("（上面的ip我自己编的，并不是真实IP地址）")]),v._v(" "),a("h2",{attrs:{id:"网络模型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网络模型"}},[v._v("#")]),v._v(" 网络模型")]),v._v(" "),a("p",[v._v("由于计算机网络从底层的传输到高层的软件设计十分复杂，要合理地设计计算机网络模型，必须采用分层模型，每一层负责处理自己的操作。OSI（Open System Interconnect）网络模型是ISO组织定义的一个计算机互联的标准模型，注意它只是一个定义，目的是为了简化网络各层的操作，提供标准接口便于实现和维护。这个模型从上到下依次是：")]),v._v(" "),a("ul",[a("li",[v._v("应用层，提供应用程序之间的通信；")]),v._v(" "),a("li",[v._v("表示层：处理数据格式，加解密等等；")]),v._v(" "),a("li",[v._v("会话层：负责建立和维护会话；")]),v._v(" "),a("li",[v._v("传输层：负责提供端到端的可靠传输；")]),v._v(" "),a("li",[v._v("网络层：负责根据目标地址选择路由来传输数据；")]),v._v(" "),a("li",[v._v("链路层和物理层负责把数据进行分片并且真正通过物理网络传输，例如，无线网、光纤等。")])]),v._v(" "),a("p",[v._v("OSI参考模型过于理想化，未能在因特网上进行广泛推广。\n互联网实际使用的TCP/IP模型并不是对应到OSI的7层模型，而是大致对应OSI的5层模型：")]),v._v(" "),a("h2",{attrs:{id:"小结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[v._v("#")]),v._v(" 小结")]),v._v(" "),a("p",[v._v("计算机网络的基本概念主要有：")]),v._v(" "),a("ul",[a("li",[v._v("计算机网络：由两台或更多计算机组成的网络；")]),v._v(" "),a("li",[v._v("互联网：连接网络的网络；")]),v._v(" "),a("li",[v._v("IP地址：计算机的网络接口（通常是网卡）在网络中的唯一标识；")]),v._v(" "),a("li",[v._v("端口号：标识正在计算机上运行的进程（程序）")]),v._v(" "),a("li",[v._v("网关：负责连接多个网络，并在多个网络之间转发数据的计算机，通常是路由器或交换机；")]),v._v(" "),a("li",[v._v("网络协议：互联网使用TCP/IP协议，它泛指互联网协议簇；")]),v._v(" "),a("li",[v._v("IP协议：一种分组交换传输协议；")]),v._v(" "),a("li",[v._v("TCP协议：一种面向连接，可靠传输的协议；")]),v._v(" "),a("li",[v._v("UDP协议：一种无连接，不可靠传输的协议。")])])])}),[],!1,null,null,null);_.default=s.exports}}]);