---
title: 流程控制-循环结构
date: 2020-12-06 18:22:56
permalink: /pages/559146/
categories:
  - 后端
  - Java
tags:
  - for
  - while
  - do
---

## 前言
前面我们掌握了流程控制的分支结构，接下来学习流程控制的循环结构。

## 循环结构
在某些条件满足的情况下，反复执行特定代码的功能。

## 循环语句分类

- `for`循环
- `while`循环
- do-while循环

在日常开发中，前面两种用得比较多。

## 组成部分

循环语句的四个组成部分：

- 1.初始化部分(init_statement)
- 2.循环条件部分(test_exp)，指的是`boolean`类型
- 3.循环体部分(body_statement)
- 4.迭代部分(alter_statement)

<img src="https://github.com/SaulJWu/images/blob/main/20201206182748.png?raw=true" alt="20201206182748.png" style="zoom:80%;" />



## for循环

> - 1.初始化部分(init_statement)
> - 2.循环条件部分(test_exp)，指的是`boolean`类型
> - 3.循环体部分(body_statement)
> - 4.迭代部分(alter_statement)



### 语法格式

~~~java
for(1.初始化部分;2.循环条件部分;4.迭代部分){
    3.循环体部分
}
~~~



### 执行过程

for循环的执行过程：1234,234,234,234……2

看下下面代码：

~~~java
package forTest;

public class Demo1 {
    public static void main(String[] args) {
        int num = 1;
        for (System.out.print('a'); num <= 3; System.out.print('c'), num++) {
            System.out.print('b');
        }
    }
}
~~~

👆面代码的输出是

```
abcbcbc
```



注意上面的num是定义在for循环外，所以外面的作用域还是能获取到num值，如果定义在for循环里面，外界是获取不到的。

- 比如：遍历100以内的偶数

~~~java
package forTest;

public class Demo2 {
    public static void main(String[] args) {
        for (int i = 1; i <= 100; i++) {
            if (i % 2 == 0) {
                System.out.println(i);
            }
        }
        //System.out.println(i);这里无法获取i，编译无法通过。
    }
}
~~~

- 求1-100中所有偶数的和

~~~java
package forTest;

public class Demo2 {
    public static void main(String[] args) {
        int total = 0;
        for (int i = 1; i <= 100; i++) {
            if (i % 2 == 0) {
                total += i;
            }
        }
        System.out.println(total);
    }
}
~~~

结果是：2550。

- 在上面案例的基础上，输出偶数的个数

~~~java
package forTest;

public class Demo2 {
    public static void main(String[] args) {
        int total = 0;
        int count = 0;
        for (int i = 1; i <= 100; i++) {
            if (i % 2 == 0) {
                total += i;
                count++;
            }
        }
        System.out.println("偶数之和：" + total + "，偶数个数：" + count);
    }
}
~~~

偶数之和：2550，偶数个数：50



### 练习1

遍历1-150，并在每行打印，3的倍数还要在数字后面打印“foo”，5的倍数还要追加打印“biz”，7的倍数还要追加“baz”。

~~~java
package forTest;

/**
 * 遍历1-150，并在每行打印，3的倍数还要在数字后面打印“foo”，5的倍数还要追加打印“biz”，7的倍数还要追加“baz”。
 */
public class Demo3 {
    public static void main(String[] args) {
        for (int i = 1; i <= 150; i++) {
            System.out.print(i);
            if (i % 3 == 0) {
                System.out.print(" foo");
            }
            if (i % 5 == 0) {
                System.out.print(" biz");
            }
            if (i % 7 == 0) {
                System.out.print(" baz");
            }
            System.out.println();
        }
    }
}
~~~

> 在工作当中，其实你可能一次性写出完美的代码很少，最好是写一点侧一点，不然写了一大堆，比如几千行，才开始测试代码，找bug都能找一天，所以还是写一部分，测一部分，反复修改，让程序完美健壮。



### break关键字

前面我们知道braek在switch-case的作用，其实break可以用在for循环中，它的作用是可以跳出循环。

> 随机两个正整数m和n（1-100），求最大公约数和最小公倍数。

~~~java
package forTest;

/**
 * 随机两个正整数m和n（1-100），求最大公约数和最小公倍数。
 * 比如12和20的最大公约数是4，最小公倍数是60.
 */
public class Demo4 {
    public static void main(String[] args) {
        //用来存放最大公约数
        int k1 = 1;
        //用来存放最小公倍数
        int k2 = 0;
//        int m = (int) (Math.random() * 100 + 1);
//        int n = (int) (Math.random() * 100 + 1);
        int m = 12, n = 20;
        System.out.println("m=" + m + ",n=" + n);
        //最大公约数最大整除到m，n之间最小的数
        int min = m > n ? n : m;
        //从大到小开始遍历，开始整除，如果两个数都能整除遍历的这个数，那么这个数就是最大公约数
        for (int i = min; i >= 1; i--) {
            //最大公约数，都能够整除i
            if (m % i == 0 && n % i == 0) {
                System.out.println(i);
                System.out.println("m % i=" + (m % i));
                System.out.println("n % i=" + (n % i));
                k1 = i;
                break;
            }
        }
        System.out.println("最大公约数为：" + k1);
        //两个数的乘积 =这两个数的最大公约数 * 最小公倍数。
        //最小公倍数 =  两个数的乘积 / 这两个数的最大公约数
        k2 = m * n / k1;
        System.out.println("最小公倍数为：" + k2);
    }
}
~~~

> [最小公倍数的公式](https://baike.baidu.com/item/%E6%9C%80%E5%B0%8F%E5%85%AC%E5%80%8D%E6%95%B0)

当然，也可以一个个遍历，去求最小公倍数

~~~java
int max = m>n?m:n;
for(int i=max;i<=m*n;i++){
    if(i % m == 0 && i % n == 0){
		System.out.println("最小公倍数为："+i);
        break;
    }
}
~~~



### 练习2

打印1~100之间所有奇数的和。

~~~java
package forTest;

public class Demo5 {
    public static void main(String[] args) {
        int total = 0;
        for (int i = 1; i <= 100; i++) {
            if (i % 2 != 0) {
                total += i;
            }
        }
        System.out.println(total);
    }
}
~~~

结果是2500



### 练习3

打印1~100之间所有是7的倍数的整数的个数及总和。

~~~java
package forTest;

public class Demo6 {
    public static void main(String[] args) {
        int total = 0;
        int count = 0;
        //打印1~100之间所有是7的倍数的整数的个数及总和。
        for (int i = 1; i <= 100; i++) {
            if (i % 7 == 0) {
                total += i;
                count++;
            }
        }
        System.out.println("total: " + total);
        System.out.println("count: " + count);
    }
}
~~~

```
total: 735
count: 14
```



### 练习4

输出所有的水仙花数，所谓水仙花数是指一个三位数，其各个位上数字立方和等于其本身。

~~~java
package forTest;

/**
 * 输出所有的水仙花数，所谓水仙花数是指一个三位数，其各个位上数字立方和等于其本身。
 */
public class Demo7 {
    public static void main(String[] args) {
        for (int i = 100; i < 1000; i++) {
            //取出百位数
            int bai = i / 100;
            //取出十位数
            int shi = i / 10 % 10;
            //取出各位数
            int ge = i % 10;
            int total = (int) (Math.pow(bai,3) + Math.pow(shi,3) + Math.pow(ge,3));
            if (total == i) {
                System.out.println("个位数为：" + ge);
                System.out.println("十位数为：" + shi);
                System.out.println("百位数为：" + bai);
                System.out.println(i);
            }
        }
    }
}
~~~

```
个位数为：3
十位数为：5
百位数为：1
153

个位数为：0
十位数为：7
百位数为：3
370

个位数为：1
十位数为：7
百位数为：3
371

个位数为：7
十位数为：0
百位数为：4
407


```

